---
title: "å‰ç«¯å·¥ç¨‹å¸ˆè½¬å‹ AI Agent å¼€å‘å®Œå…¨æŒ‡å—ï¼š2025 å¹´åº¦æŠ€æœ¯è“å›¾"
description: "ä»å‰ç«¯è§†è§’å‡ºå‘ï¼Œç³»ç»Ÿæ¢³ç† AI Agent çš„æ ¸å¿ƒæ¶æ„ã€æŠ€æœ¯æ ˆé€‰æ‹©ã€MCP åè®®ã€å®¢æˆ·ç«¯ AI å’Œå®æˆ˜è·¯å¾„ï¼Œå¸®åŠ©å‰ç«¯å¼€å‘è€…å®Œæˆå‘ AI å·¥ç¨‹å¸ˆçš„æ·±åº¦è½¬å‹ã€‚"
date: "2025-12-25"
draft: false
tags:
  - AI
  - å‰ç«¯å¼€å‘
  - Agent
  - LLM
  - MCP
  - Vercel AI SDK
---

åœ¨ 2025 å¹´çš„è½¯ä»¶å·¥ç¨‹ç‰ˆå›¾ä¸­ï¼Œå‰ç«¯å¼€å‘çš„èŒƒå¼æ­£åœ¨ç»å†ä¸€åœºä»"ç¡®å®šæ€§äº¤äº’"åˆ°"æ¦‚ç‡æ€§è‡ªæ²»"çš„æ ¹æœ¬æ€§è½¬å˜ã€‚éšç€å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä»ç®€å•çš„å¯¹è¯æ¥å£è¿›åŒ–ä¸ºå…·å¤‡æ„ŸçŸ¥ã€æ¨ç†ã€è®°å¿†å’Œè¡ŒåŠ¨èƒ½åŠ›çš„æ™ºèƒ½ä½“ï¼ˆAI Agentsï¼‰ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆçš„è§’è‰²å·²ä¸å†å±€é™äºæ„å»ºç”¨æˆ·ç•Œé¢ï¼Œè€Œæ˜¯æ¼”å˜ä¸º AI ç³»ç»Ÿä¸­è‡³å…³é‡è¦çš„"æ„ŸçŸ¥ä¸æ‰§è¡Œå±‚"æ¶æ„å¸ˆã€‚

è¿™ç§è½¬å‹å¹¶éç®€å•çš„æŠ€æœ¯æ ˆè¿ç§»ï¼Œè€Œæ˜¯å¯¹ Web å·¥ç¨‹æ€ç»´çš„é‡å¡‘ï¼šä»ç¼–å†™å¤„ç†ç”¨æˆ·æŒ‡ä»¤çš„ä»£ç ï¼Œè½¬å‘è®¾è®¡èƒ½å¤Ÿè‡ªä¸»æ‹†è§£ä»»åŠ¡ã€ç®¡ç†é•¿æœŸçŠ¶æ€å¹¶åœ¨å¤æ‚ç¯å¢ƒä¸­æ‰§è¡Œå†³ç­–çš„è®¤çŸ¥ç³»ç»Ÿã€‚

---

## ç¬¬ä¸€ç« ï¼šèŒƒå¼è½¬ç§»â€”â€”ä» GUI å¼€å‘è€…åˆ° AI å·¥ç¨‹å¸ˆ

### 1.1 ä»å‘½ä»¤å¼ç¼–ç¨‹åˆ°æ„å›¾å¯¼å‘æ¶æ„

å‰ç«¯å·¥ç¨‹å¸ˆä¹ æƒ¯äºç»´æŠ¤ç»„ä»¶çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸï¼Œä½†åœ¨ Agent åº”ç”¨ä¸­ï¼Œæ ¸å¿ƒå·¥ä½œå˜æˆäº†"æ„å›¾æ•æ‰"ä¸"ä»»åŠ¡ç¼–æ’"ã€‚Agent æ¶æ„é€šå¸¸éµå¾ª **"æ„ŸçŸ¥ï¼ˆPerceptionï¼‰â€” è®¤çŸ¥ï¼ˆCognitionï¼‰â€” è¡ŒåŠ¨ï¼ˆActionï¼‰"** çš„é—­ç¯ï¼š

- **æ„ŸçŸ¥æ¨¡å—**ï¼šæ•æ‰ç”¨æˆ·çš„åŸå§‹ä¿¡å·ï¼ˆæ–‡æœ¬ã€è¯­éŸ³ã€å›¾åƒï¼‰
- **è®¤çŸ¥æ¨¡å—**ï¼šLLM è¿›è¡Œæ¨ç†å’Œå†³ç­–
- **è¡ŒåŠ¨æ¨¡å—**ï¼šè°ƒç”¨æµè§ˆå™¨ API æˆ–ç¬¬ä¸‰æ–¹å·¥å…·æ‰§è¡Œä»»åŠ¡

è¿™ç§æ¶æ„è¦æ±‚å‰ç«¯å¼€å‘è€…å…·å¤‡å¤„ç†ä¸ç¡®å®šæ€§è¾“å‡ºçš„èƒ½åŠ›ï¼Œä¾‹å¦‚é€šè¿‡è‡ªçº é”™å¾ªç¯ï¼ˆSelf-correction loopsï¼‰å’Œåé¦ˆå›è·¯æ¥ç¡®ä¿ Agent è¡Œä¸ºçš„å¯é æ€§ã€‚

### 1.2 ç¡®å®šæ€§äº¤äº’ä¸æ¦‚ç‡æ€§è‡ªæ²»çš„å¯¹æ¯”

| ç»´åº¦ | ä¼ ç»Ÿ Web å¼€å‘ (Deterministic) | AI Agent å¼€å‘ (Probabilistic) |
|------|-------------------------------|-------------------------------|
| **é€»è¾‘æ¨¡å‹** | If-This-Then-That | Reason-Act-Observe å¾ªç¯ |
| **çŠ¶æ€ç®¡ç†** | é¢„å®šä¹‰çš„ Redux/Zustand | æ¼”è¿›çš„ä¸Šä¸‹æ–‡ä¸è®°å¿†ç³»ç»Ÿ |
| **é”™è¯¯å¤„ç†** | æ•è·å¼‚å¸¸å¹¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ | è‡ªæˆ‘ä¿®æ­£ã€é‡è¯•å¾ªç¯ä¸äººç±»ä»‹å…¥ |
| **ç”¨æˆ·ç•Œé¢** | é™æ€ã€é¢„å®šä¹‰è·¯å¾„çš„ GUI | åŠ¨æ€ã€ç”Ÿæˆå¼çš„é€‚åº”æ€§ UI |
| **æ€§èƒ½ç“¶é¢ˆ** | èµ„äº§åŠ è½½ã€DOM æ¸²æŸ“æ•ˆç‡ | æ¨¡å‹æ¨ç†å»¶è¿Ÿã€Token æ¶ˆè€—ä¼˜åŒ– |

> **æ ¸å¿ƒæ´å¯Ÿ**ï¼šå‰ç«¯å­¦ä¹ æ™ºèƒ½ä½“å¼€å‘ï¼Œä¸æ˜¯è¦å»å­¦æ€ä¹ˆè®­ç»ƒæ¨¡å‹ï¼Œè€Œæ˜¯å­¦ä¹ æ€ä¹ˆç»„è£…æ¨¡å‹ã€‚æŠŠä½ ç†Ÿæ‚‰çš„ fetch è¯·æ±‚å˜æˆæ™ºèƒ½çš„å¯¹è¯ï¼ŒæŠŠä½ çš„ utils å‡½æ•°å˜æˆ AI çš„å·¥å…·ã€‚

---

## ç¬¬äºŒç« ï¼šæ„å»ºåŸºç¡€çŸ¥è¯†ä½“ç³»

### 2.1 JavaScript/TypeScript çš„æ·±åº¦æ¼”è¿›

åœ¨ Agent å¼€å‘ä¸­ï¼ŒJavaScript ä¸å†ä»…ä»…ç”¨äº UI æ¸²æŸ“ã€‚ç”±äº Agent éœ€è¦å¤„ç†å¤§é‡çš„ç»“æ„åŒ–è¾“å‡ºï¼ˆå¦‚ JSON æ ¼å¼çš„å·¥å…·è°ƒç”¨å‚æ•°ï¼‰ï¼Œå¼€å‘è€…å¿…é¡»ç²¾é€š TypeScript çš„ç±»å‹ç³»ç»Ÿï¼Œä»¥ç¡®ä¿æ¨¡å‹è¾“å‡ºèƒ½å¤Ÿé€šè¿‡ **Zod** ç­‰åº“çš„ä¸¥æ ¼æ ¡éªŒã€‚

```typescript
import { z } from 'zod';

// å®šä¹‰å·¥å…·è°ƒç”¨çš„å‚æ•° Schema
const WeatherParams = z.object({
  location: z.string().describe('åŸå¸‚åç§°'),
  unit: z.enum(['celsius', 'fahrenheit']).optional(),
});

// ç±»å‹å®‰å…¨çš„å·¥å…·å®šä¹‰
type WeatherInput = z.infer<typeof WeatherParams>;
```

**å…³é”®æŠ€èƒ½**ï¼š
- å¼‚æ­¥æ“ä½œï¼ˆAsync/Awaitï¼‰
- æµå¼å¤„ç†ï¼ˆStreamingï¼‰
- æ¨¡å—åŒ–è®¾è®¡
- Zod Schema éªŒè¯

### 2.2 å‰ç«¯å¼€å‘è€…çš„ Python è¿›é˜¶ä¹‹è·¯

Python æ˜¯ AI é¢†åŸŸçš„é€šç”¨è¯­è¨€ï¼Œå‰ç«¯å¼€å‘è€…æ— éœ€æˆä¸º Python ä¸“å®¶ï¼Œä½†å¿…é¡»èƒ½å¤Ÿè¯»æ‡‚å¹¶ç»´æŠ¤ Agent çš„åç«¯é€»è¾‘ã€‚

| å­¦ä¹ é˜¶æ®µ | é‡ç‚¹å†…å®¹ | ç›®æ ‡ |
|----------|----------|------|
| **ç¬¬ä¸€é˜¶æ®µï¼šè¯­æ³•æ˜ å°„** | å˜é‡ã€å¾ªç¯ã€å¼‚å¸¸å¤„ç†ã€å­—å…¸ | å°† JS é€»è¾‘æ˜ å°„åˆ° Python è¯­æ³• |
| **ç¬¬äºŒé˜¶æ®µï¼šå·¥ç¨‹åŒ–** | Conda/Poetryã€FastAPI | æ„å»ºå¯æ‰©å±•çš„ AI ç½‘å…³ä¸ API æœåŠ¡ |
| **ç¬¬ä¸‰é˜¶æ®µï¼šæ•°æ®å¤„ç†** | NumPyã€Pydantic | å¤„ç† Agent çš„å¤šæ¨¡æ€è¾“å…¥ä¸ç»“æ„åŒ–å“åº” |

---

## ç¬¬ä¸‰ç« ï¼šAI Agent çš„æ ¸å¿ƒè®¤çŸ¥æ¶æ„

ç†è§£ Agent çš„å†…éƒ¨æ„é€ æ˜¯è½¬å‹çš„å…³é”®ã€‚ä¸€ä¸ªæˆç†Ÿçš„ Agent é€šå¸¸ç”± **è§„åˆ’ã€è®°å¿†å’Œå·¥å…·ä½¿ç”¨** ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ç»„æˆã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AI Agent                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Planning    â”‚  â”‚    Memory     â”‚  â”‚    Tools    â”‚  â”‚
â”‚  â”‚   (è§„åˆ’å¼•æ“)  â”‚  â”‚   (è®°å¿†ç³»ç»Ÿ)  â”‚  â”‚   (å·¥å…·ç®±)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                  â”‚                 â”‚          â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                             â–¼                            â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                   â”‚   LLM (å¤§è„‘)    â”‚                    â”‚
â”‚                   â”‚  æ¨ç† & å†³ç­–    â”‚                    â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.1 è§„åˆ’å¼•æ“ (Planning Engine)

è§„åˆ’æ¨¡å—è´Ÿè´£å°†é«˜å±‚ç›®æ ‡åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„æ­¥éª¤ã€‚**æ·±åº¦ Agentï¼ˆDeep Agentsï¼‰** ä¸ä»…æ‰§è¡Œä¸€æ¬¡æ€§æ¨ç†ï¼Œè¿˜ä¼šé€’å½’åœ°æ‹†è§£ä»»åŠ¡ã€‚

ä¾‹å¦‚ï¼Œä¸€ä¸ª"è½¯ä»¶å¼€å‘ Agent"ä¼šå°†"ä¿®å¤ Bug"çš„ç›®æ ‡åˆ†è§£ä¸ºï¼š
1. è¯»å–æŠ¥é”™æ—¥å¿—
2. å®šä½æºä»£ç 
3. ç”Ÿæˆä¿®å¤æ–¹æ¡ˆ
4. è¿è¡Œå•å…ƒæµ‹è¯•
5. æäº¤ PR

**æ€ç»´é“¾ï¼ˆChain-of-Thought, CoTï¼‰** æ¨ç†åœ¨æ­¤è¿‡ç¨‹ä¸­è‡³å…³é‡è¦ï¼Œå®ƒå…è®¸ Agent åœ¨æ‰§è¡Œå‰è¿›è¡Œ"å†…éƒ¨æ€è€ƒ"ï¼Œä»è€Œæ˜¾è‘—æé«˜å¤æ‚ä»»åŠ¡çš„æˆåŠŸç‡ã€‚

```typescript
// Agent è§„åˆ’ç¤ºä¾‹
async function planTask(goal: string) {
  const plan = await llm.generate({
    system: `ä½ æ˜¯ä¸€ä¸ªä»»åŠ¡è§„åˆ’ä¸“å®¶ã€‚å°†ç”¨æˆ·ç›®æ ‡åˆ†è§£ä¸ºå…·ä½“æ­¥éª¤ã€‚
    ä½¿ç”¨ Chain-of-Thought æ¨ç†ï¼Œå…ˆæ€è€ƒå†è¾“å‡ºã€‚`,
    prompt: `ç›®æ ‡ï¼š${goal}
    
    è¯·å…ˆåˆ†æè¿™ä¸ªç›®æ ‡ï¼Œç„¶åè¾“å‡ºæ‰§è¡Œæ­¥éª¤ã€‚`,
  });
  
  return parsePlanSteps(plan);
}
```

### 3.2 è®°å¿†ç³»ç»Ÿ (Memory Systems)

Agent çš„è®°å¿†æ¶æ„å†³å®šäº†å…¶é•¿æœŸçš„è¿è´¯æ€§å’Œä¸ªæ€§åŒ–èƒ½åŠ›ï¼š

- **çŸ­æ—¶è®°å¿† (Working Memory)**ï¼šé€šå¸¸ä»¥ä¼šè¯ä¸Šä¸‹æ–‡çš„å½¢å¼å­˜åœ¨ï¼Œè®°å½•æœ€è¿‘çš„äº¤äº’å’Œä¸­é—´æ¨ç†çŠ¶æ€ï¼Œé€šè¿‡æ»‘åŠ¨çª—å£ç­‰æŠ€æœ¯è¿›è¡Œç®¡ç†ã€‚

- **æƒ…å¢ƒè®°å¿† (Episodic Memory)**ï¼šå­˜å‚¨è¿‡å»çš„ç‰¹å®šç»éªŒå’ŒæˆåŠŸ/å¤±è´¥æ¡ˆä¾‹ï¼Œä½¿ Agent èƒ½å¤Ÿä»å†å²é”™è¯¯ä¸­å­¦ä¹ ã€‚

- **é•¿æ—¶è®°å¿† (Semantic/Persistent Memory)**ï¼šåˆ©ç”¨å‘é‡æ•°æ®åº“ï¼ˆVector DBï¼‰å­˜å‚¨æµ·é‡çš„ä¸“ä¸šçŸ¥è¯†ã€ç”¨æˆ·åå¥½å’Œä¼ä¸šæ–‡æ¡£ï¼Œé€šè¿‡è¯­ä¹‰æ£€ç´¢å®ç°æŒ‰éœ€è°ƒç”¨ã€‚

```typescript
// è®°å¿†ç³»ç»Ÿç¤ºä¾‹
interface AgentMemory {
  // çŸ­æ—¶è®°å¿†ï¼šå½“å‰å¯¹è¯ä¸Šä¸‹æ–‡
  workingMemory: Message[];
  
  // æƒ…å¢ƒè®°å¿†ï¼šå†å²ç»éªŒ
  episodicMemory: Experience[];
  
  // é•¿æ—¶è®°å¿†ï¼šå‘é‡æ•°æ®åº“æ£€ç´¢
  semanticMemory: {
    search: (query: string) => Promise<Document[]>;
    store: (doc: Document) => Promise<void>;
  };
}
```

### 3.3 å·¥å…·ä½¿ç”¨ (Tool Use & Function Calling)

å·¥å…·ä½¿ Agent å…·å¤‡äº†æ”¹å˜ç‰©ç†ä¸–ç•Œå’Œè·å–å®æ—¶æ•°æ®çš„èƒ½åŠ›ã€‚å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆè€Œè¨€ï¼Œè¿™æ¶‰åŠåˆ°å°†ç°æœ‰çš„ Web APIsï¼ˆå¦‚åœ°å›¾ APIã€æ—¥å† APIã€æ”¯ä»˜ APIï¼‰å°è£…ä¸º Agent å¯ç†è§£çš„å‡½æ•°æè¿°ï¼ˆJSON Schemaï¼‰ã€‚

```typescript
import { openai } from '@ai-sdk/openai';
import { generateText, tool } from 'ai';
import { z } from 'zod';

const result = await generateText({
  model: openai('gpt-4o'),
  tools: {
    weather: tool({
      description: 'Get the weather in a location',
      parameters: z.object({
        location: z.string().describe('The location to get weather for'),
      }),
      execute: async ({ location }) => {
        // è°ƒç”¨å¤©æ°” API
        const response = await fetch(`/api/weather?city=${location}`);
        return response.json();
      },
    }),
    calendar: tool({
      description: 'Create a calendar event',
      parameters: z.object({
        title: z.string(),
        date: z.string(),
        duration: z.number().describe('Duration in minutes'),
      }),
      execute: async ({ title, date, duration }) => {
        // è°ƒç”¨æ—¥å† API
        return await calendarAPI.createEvent({ title, date, duration });
      },
    }),
  },
  prompt: 'å¸®æˆ‘æŸ¥ä¸€ä¸‹åŒ—äº¬æ˜å¤©çš„å¤©æ°”ï¼Œå¦‚æœæ˜¯æ™´å¤©å°±åˆ›å»ºä¸€ä¸ªæˆ·å¤–æ´»åŠ¨',
});
```

---

## ç¬¬å››ç« ï¼šä¸»æµå¼€å‘æ¡†æ¶ä¸ SDK æ·±åº¦è§£æ

é€‰æ‹©åˆé€‚çš„å·¥å…·é“¾æ˜¯æé«˜å¼€å‘æ•ˆç‡çš„å‰æã€‚ç›®å‰å‰ç«¯å·¥ç¨‹å¸ˆä¸»è¦æ´»è·ƒåœ¨ä»¥ä¸‹å‡ ä¸ªç”Ÿæ€ç³»ç»Ÿä¸­ã€‚

### 4.1 Vercel AI SDKï¼šReact å·¥ç¨‹å¸ˆçš„é¦–é€‰

**Vercel AI SDK v5** æ˜¯ 2025 å¹´å‰ç«¯ AI å¼€å‘çš„æ ‡å‡†åº“ã€‚å®ƒæä¾›äº†å¼ºå¤§çš„ UI Hooksï¼ˆå¦‚ `useChat`ï¼‰æ¥å¤„ç†å®æ—¶æµå¼äº¤äº’ï¼Œå¹¶æ”¯æŒç«¯åˆ°ç«¯çš„ç±»å‹å®‰å…¨ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- **UIMessage ä¸è‡ªå®šä¹‰æ•°æ®éƒ¨åˆ†**ï¼šå¼€å‘è€…å¯ä»¥å®šä¹‰è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œç”¨äºåœ¨æœåŠ¡å™¨æ‰§è¡Œå·¥å…·è°ƒç”¨æ—¶ï¼ŒåŒæ­¥å‘å®¢æˆ·ç«¯å‘é€çŠ¶æ€æ›´æ–°ï¼ˆå¦‚"æ­£åœ¨æœç´¢..."ï¼‰æˆ–ä¸­é—´ç»“æœã€‚
- **å¤šæ­¥éª¤æ¨ç†è‡ªåŠ¨ç¼–æ’**ï¼šSDK èƒ½å¤Ÿè‡ªåŠ¨å¤„ç†å¤æ‚çš„å·¥å…·è°ƒç”¨å¾ªç¯ï¼Œç›´åˆ°æ¨¡å‹ç»™å‡ºæœ€ç»ˆçš„æ–‡æœ¬å“åº”æˆ–è¾¾åˆ°é¢„è®¾çš„æœ€å¤§æ­¥æ•°ã€‚

```typescript
// app/api/chat/route.ts
import { openai } from '@ai-sdk/openai';
import { streamText, tool } from 'ai';
import { z } from 'zod';

export async function POST(req: Request) {
  const { messages } = await req.json();

  const result = streamText({
    model: openai('gpt-4o'),
    system: 'You are a helpful assistant with access to tools.',
    messages,
    tools: {
      search: tool({
        description: 'Search the web for information',
        parameters: z.object({
          query: z.string(),
        }),
        execute: async ({ query }) => {
          // å®ç°æœç´¢é€»è¾‘
          return { results: await webSearch(query) };
        },
      }),
    },
    maxSteps: 5, // æœ€å¤§å·¥å…·è°ƒç”¨æ­¥æ•°
  });

  return result.toDataStreamResponse();
}
```

```tsx
// app/page.tsx
'use client';
import { useChat } from 'ai/react';

export default function Chat() {
  const { messages, input, handleInputChange, handleSubmit, isLoading } = useChat();

  return (
    <div className="flex flex-col h-screen max-w-2xl mx-auto p-4">
      <div className="flex-1 overflow-y-auto space-y-4">
        {messages.map(m => (
          <div key={m.id} className={`p-4 rounded-lg ${
            m.role === 'user' ? 'bg-blue-100 ml-auto' : 'bg-gray-100'
          }`}>
            <div className="font-semibold">{m.role === 'user' ? 'ä½ ' : 'AI'}</div>
            <div>{m.content}</div>
            {/* æ˜¾ç¤ºå·¥å…·è°ƒç”¨çŠ¶æ€ */}
            {m.toolInvocations?.map((tool, i) => (
              <div key={i} className="text-sm text-gray-500 mt-2">
                ğŸ”§ è°ƒç”¨å·¥å…·: {tool.toolName}
              </div>
            ))}
          </div>
        ))}
        {isLoading && <div className="text-gray-500">æ€è€ƒä¸­...</div>}
      </div>
      <form onSubmit={handleSubmit} className="mt-4">
        <input 
          value={input} 
          onChange={handleInputChange}
          className="w-full p-3 border rounded-lg"
          placeholder="è¾“å…¥æ¶ˆæ¯..."
        />
      </form>
    </div>
  );
}
```

### 4.2 LangChain.js ä¸ LlamaIndex.TS

| æ¡†æ¶ | æ ¸å¿ƒä¼˜åŠ¿ | é€‚ç”¨åœºæ™¯ |
|------|----------|----------|
| **LangChain.js** | æå…¶çµæ´»çš„é“¾å¼è°ƒç”¨ä¸ Agent æ¨¡æ¿ | å®éªŒæ€§ã€é«˜åº¦å®šåˆ¶åŒ–çš„å¤š Agent ç³»ç»Ÿ |
| **LlamaIndex.TS** | æ•°æ®ç´¢å¼•ä¸é«˜æ€§èƒ½æ£€ç´¢ä¼˜åŒ– | å¤æ‚çš„ä¼ä¸šçŸ¥è¯†åº“é—®ç­”ä¸ RAG ç³»ç»Ÿ |
| **Mastra** | åŸºäº AI SDK çš„ Agent ç¼–æ’æ¡†æ¶ | éœ€è¦é«˜åº¦ç±»å‹å®‰å…¨çš„ Agent åç«¯ä¸å‰ç«¯é›†æˆ |

### 4.3 ä½ä»£ç å¹³å°ï¼šDify ä¸ Coze

å¯¹äºå¸Œæœ›å¿«é€Ÿä»åŸå‹è¿‡æ¸¡åˆ°ç”Ÿäº§çš„å‰ç«¯å¼€å‘è€…ï¼Œ**Dify** å’Œ **Coze** æä¾›äº†å¯è§†åŒ–ç¼–æ’ç•Œé¢ï¼ŒåŒæ—¶å¼€æ”¾ API ä¾›å‰ç«¯ä»£ç é›†æˆã€‚

```typescript
// ä½¿ç”¨ Dify API é›†æˆ
const response = await fetch('https://api.dify.ai/v1/chat-messages', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${DIFY_API_KEY}`,
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    inputs: {},
    query: userMessage,
    user: 'user-123',
    conversation_id: conversationId,
  }),
});
```

---

## ç¬¬äº”ç« ï¼šè¡Œä¸šæ ‡å‡†â€”â€”Model Context Protocol (MCP)

åœ¨ 2025 å¹´ï¼Œç¢ç‰‡åŒ–çš„é›†æˆå·²æˆä¸º Agent è§„æ¨¡åŒ–çš„æœ€å¤§é˜»ç¢ã€‚ç”± Anthropic ä¸»å¯¼æ¨å‡ºçš„ **æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰** æ­£åœ¨æ”¹å˜è¿™ä¸€ç°çŠ¶ï¼Œå®ƒè¢«èª‰ä¸º **"AI æ—¶ä»£çš„ USB-C æ¥å£"**ã€‚

### 5.1 MCP çš„æ ¸å¿ƒç†å¿µä¸æœºåˆ¶

MCP æä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–çš„ JSON-RPC 2.0 åè®®ï¼Œå…è®¸ AI åŠ©æ‰‹ï¼ˆå¦‚ Claude Desktop æˆ–è‡ªå®šä¹‰ Clientï¼‰é€šè¿‡ç»Ÿä¸€çš„æ¥å£å‘ç°å¹¶è°ƒç”¨å¤–éƒ¨å·¥å…·ã€‚

**å·¥ä½œæµç¨‹**ï¼š
1. **è¿æ¥æ€§**ï¼šå®¢æˆ·ç«¯é€šè¿‡ stdio æˆ–è¿œç¨‹ HTTP æµï¼ˆSSEï¼‰è¿æ¥åˆ° MCP Server
2. **å‘ç°**ï¼šé€šè¿‡ `tools/list` æ–¹æ³•è·å–æœåŠ¡å™¨æä¾›çš„å·¥å…·æ¸…å•åŠå…¶å‚æ•° Schema
3. **è°ƒç”¨**ï¼šå½“æ¨¡å‹éœ€è¦æ‰§è¡Œå¤–éƒ¨åŠ¨ä½œæ—¶ï¼Œå®¢æˆ·ç«¯å‘é€ `tools/call` è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ‰§è¡Œé€»è¾‘å¹¶è¿”å›ç»“æœ

```typescript
// MCP Server ç¤ºä¾‹ï¼ˆNode.jsï¼‰
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';

const server = new Server({
  name: 'my-tools-server',
  version: '1.0.0',
}, {
  capabilities: {
    tools: {},
  },
});

// æ³¨å†Œå·¥å…·
server.setRequestHandler('tools/list', async () => ({
  tools: [
    {
      name: 'get_stock_price',
      description: 'Get current stock price',
      inputSchema: {
        type: 'object',
        properties: {
          symbol: { type: 'string', description: 'Stock symbol' },
        },
        required: ['symbol'],
      },
    },
  ],
}));

server.setRequestHandler('tools/call', async (request) => {
  if (request.params.name === 'get_stock_price') {
    const { symbol } = request.params.arguments;
    const price = await fetchStockPrice(symbol);
    return { content: [{ type: 'text', text: `${symbol}: $${price}` }] };
  }
});

// å¯åŠ¨æœåŠ¡å™¨
const transport = new StdioServerTransport();
await server.connect(transport);
```

### 5.2 å¯¹å‰ç«¯å·¥ç¨‹å¸ˆçš„å½±å“

MCP çš„æ™®åŠæ„å‘³ç€å‰ç«¯å·¥ç¨‹å¸ˆä¸å†éœ€è¦ä¸ºæ¯ä¸ª Agent ç¼–å†™ç‰¹å®šçš„é›†æˆä»£ç ã€‚ä»–ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªé€šç”¨çš„ MCP Client ç•Œé¢ï¼Œç„¶ååŠ¨æ€åŠ è½½ç¬¬ä¸‰æ–¹å¼€å‘çš„æ•°åƒä¸ª MCP Serverï¼ˆå¦‚ GitHubã€Slackã€Google Drive æ¥å£ï¼‰ï¼Œæå¤§åœ°æ‰©å±•äº† Agent çš„èƒ½åŠ›è¾¹ç•Œã€‚

---

## ç¬¬å…­ç« ï¼šå®¢æˆ·ç«¯ AI ä¸æµè§ˆå™¨å†… Agent æ‰§è¡Œ

2025 å¹´çš„å¦ä¸€ä¸ªé‡å¤§è¶‹åŠ¿æ˜¯ **AI æ¨¡å‹ä»äº‘ç«¯å›å½’æœ¬åœ°**ï¼Œè¿™ä¸ºå‰ç«¯å¼€å‘å¸¦æ¥äº†å‰æ‰€æœªæœ‰çš„éšç§ä¿æŠ¤å’Œå»¶è¿Ÿä¼˜åŒ–æœºä¼šã€‚

### 6.1 Transformers.js v3ï¼šæµè§ˆå™¨å†…çš„æ·±åº¦å­¦ä¹ 

**Transformers.js** å…è®¸å¼€å‘è€…åœ¨æµè§ˆå™¨ä¸­åˆ©ç”¨ ONNX Runtime ç›´æ¥è¿è¡Œé¢„è®­ç»ƒæ¨¡å‹ã€‚é€šè¿‡ WebGPU çš„åŠ é€Ÿï¼Œå¤æ‚çš„ä»»åŠ¡å¦‚å›¾åƒåˆ†ç±»ã€è¯­éŸ³è½¬æ–‡å­—å’Œè¯­ä¹‰æœç´¢ç°åœ¨å¯ä»¥ä»¥è¿‘ä¹é›¶çš„æˆæœ¬åœ¨å®¢æˆ·ç«¯å®Œæˆã€‚

```typescript
import { pipeline } from '@xenova/transformers';

// æƒ…æ„Ÿåˆ†æ
const classifier = await pipeline('sentiment-analysis');
const result = await classifier('I love this product!');
// [{ label: 'POSITIVE', score: 0.9998 }]

// è¯­éŸ³è½¬æ–‡å­—
const transcriber = await pipeline('automatic-speech-recognition');
const transcription = await transcriber(audioBlob);

// è¯­ä¹‰æœç´¢ï¼ˆç”Ÿæˆ Embeddingsï¼‰
const embedder = await pipeline('feature-extraction');
const embeddings = await embedder('Hello world');
```

### 6.2 Chrome Built-in AIï¼šGemini Nano çš„åŸç”Ÿé›†æˆ

Google Chrome åŸç”Ÿé›†æˆçš„ **Gemini Nano** æ¨¡å‹ï¼Œä½¿ Web å¼€å‘è€…èƒ½å¤Ÿé€šè¿‡ `window.ai` æ¥å£ç›´æ¥è°ƒç”¨è½»é‡çº§ LLMã€‚è™½ç„¶å…¶å‚æ•°é‡è¾ƒå°ï¼Œä½†åœ¨æ–‡æœ¬æ‘˜è¦ã€æ¶¦è‰²å’Œç®€å•é€»è¾‘æ¨ç†æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œä¸”æ— éœ€ä»»ä½•ç½‘ç»œè°ƒç”¨ã€‚

```typescript
// Chrome Built-in AI (å®éªŒæ€§ API)
if ('ai' in window) {
  const session = await window.ai.createTextSession();
  const result = await session.prompt('Summarize this article: ...');
  console.log(result);
}
```

### 6.3 å®¢æˆ·ç«¯ AI çš„æŠ€æœ¯æƒè¡¡

| æŒ‡æ ‡ | äº‘ç«¯æ¨¡å‹ | å®¢æˆ·ç«¯æ¨¡å‹ |
|------|----------|------------|
| **æ€§èƒ½/ç²¾åº¦** | æé«˜ (GPT-4o, Claude 3.5) | ä¸­ç­‰ (Gemini Nano, Phi-3) |
| **å»¶è¿Ÿ** | å–å†³äºç½‘ç»œ (å‡ ç™¾msåˆ°å‡ ç§’) | æä½ (è¿‘ä¹å®æ—¶) |
| **éšç§** | å­˜åœ¨æ•°æ®æ³„éœ²é£é™© | æ•°æ®ä¸å‡ºè®¾å¤‡ï¼Œæé«˜å®‰å…¨æ€§ |
| **æˆæœ¬** | æŒ‰ Token è®¡è´¹ï¼Œé•¿æœŸæˆæœ¬é«˜ | é›¶æœåŠ¡å™¨æˆæœ¬ |
| **ç¦»çº¿å¯ç”¨æ€§** | ä¸æ”¯æŒ | æ”¯æŒ |

---

## ç¬¬ä¸ƒç« ï¼šå‘é‡æ•°æ®åº“ä¸æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG)

å‰ç«¯è½¬å‹ AI å¼€å‘å¿…é¡»æŒæ¡æ•°æ®ç®¡ç†çš„ç§‘å­¦ã€‚å‘é‡æ•°æ®åº“ä¸å†æ˜¯åç«¯çš„ä¸“åˆ©ï¼Œå®ƒæ˜¯ Agent é•¿æœŸè®°å¿†çš„åŸºç¡€ã€‚

### 7.1 æ ¸å¿ƒé€‰å‹æŒ‡å—

å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ˜“ç”¨æ€§å’Œæ‰˜ç®¡æœåŠ¡æ˜¯å…³é”®è€ƒè™‘å› ç´ ï¼š

| æ•°æ®åº“ | ç±»å‹ | å…³é”®ä¼˜åŠ¿ |
|--------|------|----------|
| **Pinecone** | å…¨æ‰˜ç®¡ Serverless | é›¶è¿ç»´ï¼Œæç®€ API |
| **Qdrant** | OSS + æ‰˜ç®¡ | ä¼˜ç§€çš„å…è´¹å±‚çº§å’Œå¼ºå¤§çš„è¿‡æ»¤åŠŸèƒ½ |
| **pgvector** | PostgreSQL æ’ä»¶ | æˆæœ¬æœ€ä½ï¼Œä¸ç°æœ‰æ•°æ®åº“ä¸€è‡´æ€§æœ€å¥½ |
| **Milvus** | å¼€æº/åˆ†å¸ƒå¼ | æ”¯æŒåäº¿çº§å‘é‡ï¼Œé€‚åˆå¤§è§„æ¨¡ä¼ä¸šåº”ç”¨ |
| **Weaviate** | OSS + æ‰˜ç®¡ | ä¼˜ç§€çš„æ··åˆæœç´¢ (Hybrid Search) èƒ½åŠ› |
| **ChromaDB** | åµŒå…¥å¼/å¼€æº | å¼€å‘ä½“éªŒæä½³ï¼Œé€‚åˆåŸå‹å¼€å‘ |

### 7.2 RAG å®ç°ç¤ºä¾‹

```typescript
import { Pinecone } from '@pinecone-database/pinecone';
import { openai } from '@ai-sdk/openai';
import { embed, generateText } from 'ai';

// åˆå§‹åŒ– Pinecone
const pinecone = new Pinecone({ apiKey: process.env.PINECONE_API_KEY });
const index = pinecone.index('knowledge-base');

async function ragQuery(question: string) {
  // 1. å°†é—®é¢˜è½¬æ¢ä¸ºå‘é‡
  const { embedding } = await embed({
    model: openai.embedding('text-embedding-3-small'),
    value: question,
  });
  
  // 2. ä»å‘é‡æ•°æ®åº“æ£€ç´¢ç›¸å…³æ–‡æ¡£
  const results = await index.query({
    vector: embedding,
    topK: 5,
    includeMetadata: true,
  });
  
  const context = results.matches
    .map(m => m.metadata?.text)
    .join('\n\n');
  
  // 3. å°†æ£€ç´¢ç»“æœä½œä¸ºä¸Šä¸‹æ–‡ï¼Œè®© LLM ç”Ÿæˆå›ç­”
  const { text } = await generateText({
    model: openai('gpt-4o'),
    system: `åŸºäºä»¥ä¸‹æ–‡æ¡£å›ç­”é—®é¢˜ã€‚å¦‚æœæ–‡æ¡£ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œè¯·è¯´æ˜ã€‚

æ–‡æ¡£å†…å®¹ï¼š
${context}`,
    prompt: question,
  });
  
  return text;
}
```

---

## ç¬¬å…«ç« ï¼šAI Agent çš„ UX/UI è®¾è®¡èŒƒå¼

Agent çš„ç•Œé¢è®¾è®¡æ­£ä»"é™æ€å¸ƒå±€"å‘"é€‚åº”æ€§äº¤äº’"æ¼”è¿›ã€‚**Agentic UX** å¼ºè°ƒé€æ˜åº¦ã€åé¦ˆå’Œäººç±»ä»‹å…¥ã€‚

### 8.1 é€‚åº”æ€§ UI ä¸ç”Ÿæˆå¼ç•Œé¢ (Generative UI)

Agent ä¸å†åªæ˜¯åœ¨èŠå¤©æ°”æ³¡ä¸­å›å¤æ–‡å­—ã€‚æ ¹æ®ä»»åŠ¡çŠ¶æ€ï¼Œç•Œé¢å¯ä»¥åŠ¨æ€ç”Ÿæˆå›¾è¡¨ã€è¡¨å•æˆ–æ“ä½œå¡ç‰‡ã€‚

```tsx
// ç”Ÿæˆå¼ UI ç¤ºä¾‹
function AgentResponse({ message }) {
  // æ ¹æ®å·¥å…·è°ƒç”¨ç»“æœåŠ¨æ€æ¸²æŸ“ UI
  if (message.toolInvocations) {
    return message.toolInvocations.map((tool, i) => {
      switch (tool.toolName) {
        case 'weather':
          return <WeatherCard key={i} data={tool.result} />;
        case 'chart':
          return <DynamicChart key={i} data={tool.result} />;
        case 'form':
          return <InteractiveForm key={i} schema={tool.result} />;
        default:
          return <div key={i}>{JSON.stringify(tool.result)}</div>;
      }
    });
  }
  
  return <div>{message.content}</div>;
}
```

### 8.2 æ¨ç†è·¯å¾„é€æ˜åŒ–

ä¸ºäº†å»ºç«‹ç”¨æˆ·ä¿¡ä»»ï¼Œå‰ç«¯å¿…é¡»å±•ç¤º Agent çš„"æ€è€ƒè¿‡ç¨‹"ã€‚è¿™åŒ…æ‹¬æ˜¾ç¤ºå½“å‰çš„æ€è€ƒæ­¥éª¤ã€å¼•ç”¨çš„æ•°æ®æ¥æºä»¥åŠæ­£åœ¨è°ƒç”¨çš„å·¥å…·ã€‚

```tsx
function ThinkingSteps({ steps }) {
  return (
    <div className="space-y-2 text-sm text-gray-600">
      {steps.map((step, i) => (
        <div key={i} className="flex items-center gap-2">
          <span className="w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center">
            {i + 1}
          </span>
          <span>{step.description}</span>
          {step.status === 'running' && <Spinner />}
          {step.status === 'done' && <CheckIcon />}
        </div>
      ))}
    </div>
  );
}
```

### 8.3 å¤šæ¨¡æ€è¾“å…¥å¤„ç†

2025 å¹´çš„ Agent éœ€è¦å¤„ç† PDFã€å›¾åƒå’ŒéŸ³è§†é¢‘ã€‚å‰ç«¯é¢ä¸´çš„æŒ‘æˆ˜æ˜¯å¦‚ä½•é«˜æ•ˆåœ°è¿›è¡Œæ–‡ä»¶åˆ‡ç‰‡ã€ç¼–ç ï¼ˆBase64ï¼‰ä»¥åŠå¼‚æ­¥ä¸Šä¼ ã€‚

```typescript
// å¤šæ¨¡æ€è¾“å…¥å¤„ç†
async function processMultimodalInput(file: File) {
  // æ–‡ä»¶ç±»å‹æ£€æµ‹
  const type = file.type;
  
  if (type.startsWith('image/')) {
    // å›¾åƒå‹ç¼©å’Œ Base64 ç¼–ç 
    const compressed = await compressImage(file, { maxWidth: 1024 });
    return { type: 'image', data: await toBase64(compressed) };
  }
  
  if (type === 'application/pdf') {
    // PDF æ–‡æœ¬æå–
    const text = await extractPdfText(file);
    return { type: 'document', data: text };
  }
  
  if (type.startsWith('audio/')) {
    // éŸ³é¢‘è½¬æ–‡å­—ï¼ˆå¯ä½¿ç”¨ Transformers.jsï¼‰
    const transcription = await transcribeAudio(file);
    return { type: 'text', data: transcription };
  }
}
```

---

## ç¬¬ä¹ç« ï¼šå·¥ç¨‹å®è·µä¸­çš„æŒ‘æˆ˜ä¸é™·é˜±

Agent çš„å¼€å‘å……æ»¡äº†ä¼ ç»Ÿ Web å¼€å‘ä¸­ä¸æ›¾é‡åˆ°çš„éšæ€§æˆæœ¬å’ŒæŠ€æœ¯å€ºåŠ¡ã€‚

### 9.1 Token æ¶ˆè€—ä¸æˆæœ¬çˆ†ç‚¸

ç”±äº Agent å¾€å¾€æ¶‰åŠå¾ªç¯è°ƒç”¨ï¼ˆLoopingï¼‰ï¼Œä¸€æ—¦é™·å…¥æ­»å¾ªç¯ï¼ŒToken æ¶ˆè€—ä¼šå‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚å‰ç«¯å·¥ç¨‹å¸ˆéœ€è¦è®¾è®¡ä¸¥æ ¼çš„æ­¥æ•°é™åˆ¶ï¼ˆStep Limitï¼‰å’Œå¼‚å¸¸ç›‘æ§æœºåˆ¶ã€‚

```typescript
// æˆæœ¬æ§åˆ¶ç¤ºä¾‹
const result = await generateText({
  model: openai('gpt-4o'),
  messages,
  tools,
  maxSteps: 10,           // æœ€å¤§æ­¥æ•°é™åˆ¶
  maxTokens: 4000,        // å•æ¬¡å“åº” Token é™åˆ¶
  abortSignal: AbortSignal.timeout(30000), // è¶…æ—¶æ§åˆ¶
});

// Token ä½¿ç”¨ç›‘æ§
console.log('Token usage:', result.usage);
// { promptTokens: 1500, completionTokens: 500, totalTokens: 2000 }
```

### 9.2 Agent æ¼‚ç§» (Agent Drift) ä¸å¯é æ€§

éšç€åº•å±‚æ¨¡å‹çš„æ›´æ–°æˆ– Prompt çš„å¾®è°ƒï¼ŒAgent çš„è¡Œä¸ºå¯èƒ½å‘ç”Ÿä¸å¯é¢„æµ‹çš„å˜åŒ–ï¼Œå³"æ¼‚ç§»"ã€‚è¿™ä¼šå¯¼è‡´åŸæœ¬æ­£å¸¸çš„å·¥å…·è°ƒç”¨çªç„¶å¤±è´¥ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šå»ºç«‹å®Œå–„çš„è¯„ä¼°ç³»ç»Ÿï¼ˆEvalsï¼‰ï¼Œå®šæœŸå¯¹ Agent çš„å†³ç­–è·¯å¾„è¿›è¡Œå›å½’æµ‹è¯•ã€‚

```typescript
// Agent è¯„ä¼°ç¤ºä¾‹
const testCases = [
  { input: 'åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·', expectedTool: 'weather' },
  { input: 'å¸®æˆ‘åˆ›å»ºä¸€ä¸ªä¼šè®®', expectedTool: 'calendar' },
  { input: 'æœç´¢æœ€æ–°çš„ AI æ–°é—»', expectedTool: 'search' },
];

async function runEvals() {
  for (const testCase of testCases) {
    const result = await agent.run(testCase.input);
    const usedTool = result.toolCalls[0]?.name;
    
    if (usedTool !== testCase.expectedTool) {
      console.error(`âŒ æ¼‚ç§»æ£€æµ‹: "${testCase.input}" 
        æœŸæœ›: ${testCase.expectedTool}, å®é™…: ${usedTool}`);
    }
  }
}
```

### 9.3 æƒé™æœ€å°åŒ–åŸåˆ™ (PoLP)

èµ‹äºˆ Agent æ“ä½œ API çš„æƒé™æ„å‘³ç€å·¨å¤§çš„å®‰å…¨é£é™©ã€‚å¼€å‘è€…å¿…é¡»éµå¾ªæƒé™æœ€å°åŒ–åŸåˆ™ï¼Œç¡®ä¿ Agent æ— æ³•æ‰§è¡Œå…¶èŒè´£èŒƒå›´ä¹‹å¤–çš„é«˜å±æ“ä½œï¼ˆå¦‚åˆ é™¤æ•°æ®åº“ï¼‰ã€‚

```typescript
// å·¥å…·æƒé™æ§åˆ¶
const tools = {
  readDatabase: tool({
    description: 'Read data from database',
    // âœ… åªè¯»æ“ä½œ
    execute: async (params) => db.query(params),
  }),
  
  // âŒ å±é™©æ“ä½œéœ€è¦äººå·¥ç¡®è®¤
  deleteRecord: tool({
    description: 'Delete a record (requires confirmation)',
    execute: async (params) => {
      // å‘é€ç¡®è®¤è¯·æ±‚ç»™ç”¨æˆ·
      const confirmed = await requestUserConfirmation(
        `ç¡®å®šè¦åˆ é™¤è®°å½• ${params.id} å—ï¼Ÿ`
      );
      if (!confirmed) throw new Error('ç”¨æˆ·å–æ¶ˆæ“ä½œ');
      return db.delete(params.id);
    },
  }),
};
```

---

## ç¬¬åç« ï¼šè½¬å‹çš„ç»ˆæè·¯çº¿å›¾

æ€»ç»“ 2025 å¹´å‰ç«¯è½¬å‹ AI Agent å¼€å‘çš„ä¸“ä¸šè·¯å¾„ï¼Œå»ºè®®åˆ†ä¸ºå››ä¸ªé˜¶æ®µå®æ–½ï¼š

### ç¬¬ä¸€é˜¶æ®µï¼šè®¤çŸ¥æ„å»ºä¸åŸºç¡€å·¥å…·ï¼ˆ2-4 å‘¨ï¼‰

- **å·©å›º TypeScript**ï¼šæŒæ¡ Zod å’Œ JSON Schemaï¼Œä¸ºç»“æ„åŒ–è¾“å‡ºæ‰“ä¸‹åŸºç¡€
- **æŒæ¡ Prompt Engineering**ï¼šå­¦ä¹ è§’è‰²è®¾å®šã€å°‘æ ·æœ¬æç¤ºï¼ˆFew-shotï¼‰å’Œæ€ç»´é“¾ï¼ˆCoTï¼‰æŠ€å·§
- **ä½“éªŒä½ä»£ç **ï¼šåœ¨ Dify æˆ– Coze ä¸Šæ„å»ºç¬¬ä¸€ä¸ªå¯è§†åŒ– Agent å·¥ä½œæµ

### ç¬¬äºŒé˜¶æ®µï¼šæŠ€æœ¯æ ˆå‡çº§ä¸æœ¬åœ° AIï¼ˆ2-4 å‘¨ï¼‰

- **å­¦ä¹  Vercel AI SDK**ï¼šå®ç°ä¸€ä¸ªå¸¦æµå¼å“åº”ã€å·¥å…·è°ƒç”¨å’ŒçŠ¶æ€åé¦ˆçš„èŠå¤©æœºå™¨äºº
- **æ¢ç´¢ Transformers.js**ï¼šå°è¯•åœ¨æµè§ˆå™¨æœ¬åœ°è¿è¡Œä¸€ä¸ªæƒ…æ„Ÿåˆ†ææˆ–è¯­éŸ³è½¬æ–‡å­—çš„å°å‹ Agent
- **å°è¯•åŸç”Ÿ Prompt API**ï¼šåœ¨ Chrome Canary ä¸­ä½“éªŒ Gemini Nano çš„æœ¬åœ°æ¨ç†èƒ½åŠ›

### ç¬¬ä¸‰é˜¶æ®µï¼šæ·±åº¦æ¶æ„ä¸æ•°æ®é›†æˆï¼ˆ4-6 å‘¨ï¼‰

- **é›†æˆå‘é‡æ•°æ®åº“**ï¼šå­¦ä¹ ä½¿ç”¨ Pinecone æˆ– Qdrant å®ç°ä¸€ä¸ª RAG ç³»ç»Ÿï¼Œè®©ä½ çš„ Agent å…·å¤‡å¤–éƒ¨çŸ¥è¯†åº“
- **æŒæ¡ MCP åè®®**ï¼šæ„å»ºè‡ªå·±çš„ MCP Serverï¼Œæˆ–è€…ä½¿ç”¨ MCP SDK è¿æ¥åˆ°å·²æœ‰çš„å·¥å…·ç”Ÿæ€
- **ç ”ç©¶ LangGraph**ï¼šå­¦ä¹ å¦‚ä½•è®¾è®¡å…·æœ‰å¾ªç¯é€»è¾‘å’Œäººç±»å¹²é¢„çš„å·¥ä½œæµ

### ç¬¬å››é˜¶æ®µï¼šå·¥ç¨‹åŒ–ã€ä¼˜åŒ–ä¸å®‰å…¨ï¼ˆæŒç»­ï¼‰

- **å®æ–½è¯„ä¼°ç³»ç»Ÿ**ï¼šä½¿ç”¨ LangSmith æˆ–ç±»ä¼¼å·¥å…·è¿½è¸ª Agent çš„æ¨ç†ç—•è¿¹ï¼ˆTracesï¼‰ï¼Œå¹¶ç¼–å†™è‡ªåŠ¨åŒ–è¯„ä¼°è„šæœ¬
- **æˆæœ¬ä¸æ€§èƒ½ä¼˜åŒ–**ï¼šå®æ–½ Prompt ç¼“å­˜ã€Token é¢„ç®—æ§åˆ¶ä»¥åŠæ¨¡å‹è·¯ç”±ç­–ç•¥
- **å®‰å…¨åŠ å›º**ï¼šä¸º Agent é…ç½®å®¡è®¡æ—¥å¿—ã€æ•°æ®è„±æ•è¿‡æ»¤å™¨ä»¥åŠå¤šé˜¶æ®µç¡®è®¤æµç¨‹

---

## å­¦ä¹ èµ„æºæ¨è

### å®˜æ–¹æ–‡æ¡£

- [Vercel AI SDK](https://sdk.vercel.ai/docs) - å‰ç«¯å‹å¥½çš„ AI å¼€å‘å·¥å…·åŒ…
- [LangChain.js](https://js.langchain.com/) - æœ€æµè¡Œçš„ Agent æ¡†æ¶
- [Model Context Protocol](https://modelcontextprotocol.io/) - MCP å®˜æ–¹æ–‡æ¡£
- [Transformers.js](https://huggingface.co/docs/transformers.js) - æµè§ˆå™¨ç«¯ AI æ¨ç†
- [Chrome Built-in AI](https://developer.chrome.com/docs/ai) - Chrome åŸç”Ÿ AI èƒ½åŠ›

### å¼€æºé¡¹ç›®

- [ChatGPT-Next-Web](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web) - å­¦ä¹  Chat UI å®ç°
- [Lobe Chat](https://github.com/lobehub/lobe-chat) - åŠŸèƒ½å®Œå–„çš„ AI å¯¹è¯åº”ç”¨
- [Dify](https://github.com/langgenius/dify) - å¯è§†åŒ– Agent ç¼–æ’å¹³å°
- [Mastra](https://mastra.ai/) - åŸºäº AI SDK çš„ Agent æ¡†æ¶

---

## å†™åœ¨æœ€å

åœ¨è¿™ä¸ª AI Agent æ·±åˆ»æ”¹å†™è½¯ä»¶å½¢æ€çš„æ—¶ä»£ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆçš„ä¼˜åŠ¿åœ¨äºä»–ä»¬å¯¹"ç”¨æˆ·ä½“éªŒ"çš„æ·±åˆ»ç†è§£ã€‚AI çš„å¤§è„‘è™½ç„¶å¼ºå¤§ï¼Œä½†å¦‚æœæ²¡æœ‰ç²¾å·§çš„æ„ŸçŸ¥å’Œå“åº”ç³»ç»Ÿï¼Œå®ƒå°†å§‹ç»ˆæ˜¯ä¸€ä¸ªå°é—­çš„é»‘ç›’ã€‚

é€šè¿‡æ‹¥æŠ±è®¤çŸ¥æ¶æ„ã€æŒæ¡æ ‡å‡†åŒ–åè®®å¹¶æ·±è€•å®¢æˆ·ç«¯ AIï¼Œå‰ç«¯å¼€å‘è€…å°†ä¸ä»…æ˜¯ AI åº”ç”¨çš„æ„å»ºè€…ï¼Œæ›´æ˜¯å®šä¹‰æœªæ¥äººæœºäº¤äº’èŒƒå¼çš„å…ˆè¡Œè€…ã€‚

**The best way to learn is to build.** ä»ä¸€ä¸ªç®€å•çš„ Chatbot å¼€å§‹ï¼Œé€æ­¥æ·»åŠ å·¥å…·è°ƒç”¨ã€è®°å¿†ç³»ç»Ÿã€å¤š Agent åä½œâ€¦â€¦ä¿æŒå­¦ä¹ çš„çƒ­æƒ…ï¼ŒåŠ¨æ‰‹å®è·µï¼Œä½ å°†åœ¨è¿™åœº AI é©å‘½ä¸­æ‰¾åˆ°å±äºè‡ªå·±çš„ä½ç½®ã€‚

---

*å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ Agent å¼€å‘ç»éªŒï¼*
